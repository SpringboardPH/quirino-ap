<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quirino API</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      .fade-in {
        opacity: 0;
        animation: fadeIn 1s forwards; /* Increased duration to make the fade-in visible */
      }

      .fade-out {
        opacity: 1;
        animation: fadeOut 1s forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }

      #video-container {
        position: relative;
        overflow: hidden;
        width: 100vw;
        height: 100vh;
      }

      #video-test {
        position: absolute;
        top: 0;
        left: 0;
        width: 102%;
        height: 100%;
        object-fit: fill;
      }
    </style>
  </head>

  <body
    class="h-screen w-screen min-w-screen max-w-screen overflow-hidden fade-in relative bg-gradient-to-t from-[#02214F] to-5% to-[#032A64]"
  >
    <div id="video-container">
      <video id="video-test" class="animate -z-10" muted>
        <source src="./img/speedtest.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <div
        class="w-screen h-screen flex-col justify-center items-center relative hidden -top-10"
        id="qr-code"
      >
        <img src="./img/qr-code.png" alt="qr-code" class="h-screen animate" />
        <button class="absolute bottom-0 right-[870px] bg-white rounded-md" onclick="handleClick()">
          <img src="./img//zoom.png" alt="zoom" />
        </button>
      </div>
    </div>

    <script>
      const playVideo = (video) => {
        video.classList.replace("hidden", "flex")

        setTimeout(() => {
          video.play()
        }, 500)
      }

      const hideVideo = (video) => {
        setTimeout(() => {
          video.classList.add("fade-out") // Smooth fade-out
          setTimeout(() => {
            video.classList.add("hidden") // Add hidden after fade-out finishes
          }, 1000) // Matches the fadeOut animation duration
        }, 16000)
      }

      const fadeOutContent = () => {
        document.body.classList.remove("fade-in") // Remove fade-in class
        setTimeout(() => {
          document.body.classList.add("fade-out")
        }, 16000)
      }

      const fadeInContent = () => {
        setTimeout(() => {
          document.body.classList.remove("fade-out") // Ensure fade-out is removed
          document.body.classList.add("fade-in")
        }, 17500) // Ensure the fade-out finishes before fade-in starts
      }

      const showQRCode = (qrCode) => {
        setTimeout(() => {
          qrCode.classList.replace("hidden", "flex")
        }, 17500)
      }

      document.addEventListener("DOMContentLoaded", () => {
        const video = document.getElementById("video-test")
        video.defaultPlaybackRate = 1
        video.load()

        const qrCode = document.getElementById("qr-code")

        playVideo(video)
        hideVideo(video)
        fadeOutContent()
        fadeInContent() // Adjusted fadeIn timing
        showQRCode(qrCode)
      })

      const handleClick = () => {
        window.location.href = "https://rb.gy/im7f64"
      }
    </script>
  </body>
</html>
