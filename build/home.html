<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quirino API</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      .fade-in {
        opacity: 0;
        animation: fadeIn 0.5s forwards;
      }

      .fade-out {
        opacity: 1;
        animation: fadeOut 0.5s forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }
    </style>
  </head>

  <body class="h-screen w-screen min-w-screen max-w-screen overflow-hidden fade-in relative">
    <!-- EARTH -->
    <div
      id="earth-container"
      class="absolute overflow-hidden z-[-3] flex w-screen h-screen justify-center items-center"
    >
      <video id="earth-video" class="animate h-screen w-screen object-cover" loop>
        <source src="./img/earth.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>
    <!-- TIMER -->
    <div
      id="timer-container"
      class="absolute overflow-hidden z-[-3] w-screen h-screen justify-center items-center hidden"
    >
      <video id="timer-video" class="animate h-screen w-screen object-cover">
        <source src="./img/timer.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <button
      id="hidden-btn"
      onclick="handleClick()"
      class="absolute click-btn top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 size-[350px] scale-[200%] rounded-full"
    ></button>
    <div
      id="box"
      class="absolute bottom-1/2 right-52 bg-white rounded-full transition-all ease-linear duration-[1000ms] transform z-[-1]"
    ></div>

    <script>
      const hideContainer = (container) => {
        container.classList.replace("flex", "hidden")
      }

      const showContainer = (container) => {
        container.classList.replace("hidden", "flex")
      }

      const redirect = () => {
        setTimeout(() => {
          window.location.href = "speedtest.html"
        }, 7500)
      }

      document.addEventListener("DOMContentLoaded", () => {
        const video = document.getElementById("earth-video")
        video.defaultPlaybackRate = 1
        video.play()
      })

      const handleClick = () => {
        const earthVideo = document.getElementById("earth-video")
        const earthContainer = document.getElementById("earth-container")
        const timerContainer = document.getElementById("timer-container")
        const timerVideo = document.getElementById("timer-video")
        const hiddenBtn = document.getAnimations("hidden-btn")
        const mapContainer = document.getElementById("map-container")
        const mapVideo = document.getElementById("map-video")

        earthVideo.pause()
        hideContainer(earthContainer)
        showContainer(timerContainer)
        timerVideo.play()

        // Redirect to a new page after video ended
        timerVideo.addEventListener("ended", () => {
          window.location.href = "map.html"
        })
      }
    </script>
  </body>
</html>
