<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      .fade-in {
        opacity: 0;
        animation: fadeIn 0.5s forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .animate {
        transition: all 0.5s ease-out;
      }

      .spinner {
        animation: rotate 2s linear infinite;
        z-index: 2;
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -25px 0 0 -25px;
        width: 50px;
        height: 50px;
      }

      .spinner .path {
        stroke: #de5147;
        stroke-linecap: round;
        animation: dash 1.5s ease-in-out infinite;
      }

      @keyframes rotate {
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes dash {
        0% {
          stroke-dasharray: 1, 150;
          stroke-dashoffset: 0;
        }
        50% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -35;
        }
        100% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -124;
        }
      }
    </style>
  </head>

  <body class="h-screen w-screen min-w-screen max-w-screen overflow-hidden fade-in relative">
    <div class="bg-blue-200 relative overflow-hidden z-[-2]">
      <img id="quirino-map" src="./img/map2.gif" alt="map" class="h-screen w-screen animate flex" />
      <video id="map-video" class="w-screen flex animate" muted>
        <source src="./img/map-video.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <aside
      class="absolute top-0 right-0 flex justify-center items-center overflow-hidden w-[500px] bg-gradient-to-l h-screen z-[-1]"
    >
      <div
        id="button-container"
        class="size-[220px] shadow-2xl rounded-[50%] bg-white flex flex-col justify-center items-center gap-y-8 shadow-xl backdrop-blur-3xl animate"
      >
        <button
          id="start-btn"
          onclick="handleClick()"
          class="scale-150 hover:scale-[135%] animate active:scale-100 z-[30]"
        >
          <img src="./img/start-btn.png" alt="start-button" />
        </button>
        <!-- <h2 id="btn-text" class="text-4xl">Start</h2> -->
      </div>
      <div class="z-10">
        <div id="spinner" class="hidden animate relative bottom-6 opacity-100 duration-700">
          <h3 class="text-2xl relative right-24 text-[#DE5147]">Please Wait</h3>
          <svg class="spinner absolute" viewBox="0 0 50 50">
            <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
          </svg>
        </div>
      </div>
    </aside>

    <div
      id="box"
      class="absolute bottom-1/2 right-52 bg-white rounded-full transition-all ease-linear duration-[1000ms] transform z-[-1]"
    ></div>

    <script>
      const removeButtonContainer = (buttonContainer) => {
        setTimeout(() => {
          buttonContainer.classList.add("scale-75", "opacity-0")
        }, 11500)

        setTimeout(() => {
          buttonContainer.remove()
        }, 11800)
      }

      const showLoadingSpinner = (spinner) => {
        setTimeout(() => {
          spinner.classList.replace("hidden", "block")
        }, 11800)
      }

      const expandCircle = (box) => {
        setTimeout(() => {
          box.classList.add("scale-[12000%]", "size-8")
        }, 11700)
      }

      const fadeLoadingSpinner = (spinner) => {
        setTimeout(() => {
          spinner.classList.replace("opacity-100", "opacity-0")
        }, 12000)
      }

      const redirect = () => {
        setTimeout(() => {
          window.location.href = "https://fast.com/"
        }, 13000)
      }

      const hideMap = (map) => {
        map.classList.replace("flex", "hidden")
      }
      const playVideo = (video) => {
        video.classList.replace("hidden", "flex")
        video.play()
      }

      const handleClick = () => {
        const buttonContainer = document.getElementById("button-container")
        const spinner = document.getElementById("spinner")
        const box = document.getElementById("box")
        const map = document.getElementById("quirino-map")
        const video = document.getElementById("map-video")

        hideMap(map)
        playVideo(video)

        removeButtonContainer(buttonContainer)
        showLoadingSpinner(spinner)
        expandCircle(box)
        fadeLoadingSpinner(spinner)
        redirect()
      }
    </script>
  </body>
</html>
