<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quirino API</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      .fade-in {
        opacity: 0;
        animation: fadeIn 0.5s forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .animate {
        transition: all 0.5s ease-out;
      }

      .spinner {
        animation: rotate 2s linear infinite;
        z-index: 2;
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -25px 0 0 -25px;
        width: 50px;
        height: 50px;
      }

      .spinner .path {
        stroke: #de5147;
        stroke-linecap: round;
        animation: dash 1.5s ease-in-out infinite;
      }

      @keyframes rotate {
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes dash {
        0% {
          stroke-dasharray: 1, 150;
          stroke-dashoffset: 0;
        }
        50% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -35;
        }
        100% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -124;
        }
      }
    </style>
  </head>

  <body class="h-screen w-screen min-w-screen max-w-screen overflow-hidden fade-in relative">
    <div
      class="absolute top-0 left-0 h-screen w-[400px] bg-gradient-to-r from-[#042A64] via-[#042A64] to-90% to-transparent z-[-2]"
    ></div>
    <div
      class="bg-[#042A64] relative overflow-hidden z-[-3] flex w-screen h-screen justify-center items-center"
    >
      <img
        id="quirino-map"
        src="./img/map.png"
        alt="map"
        class="animate flex h-screen bg-cover bg-no-repeat justify-center items-center"
      />
      <video id="map-video" class="animate h-screen w-screen hidden" muted>
        <source src="./img/map-video2.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <aside
      class="absolute top-0 right-0 flex justify-center items-center overflow-hidden w-[500px] bg-gradient-to-l h-screen z-[-1]"
    >
      <div
        id="button-container"
        class="size-[220px] shadow-2xl rounded-[50%] bg-white flex flex-col justify-center items-center gap-y-8 backdrop-blur-3xl animate"
      >
        <button
          id="start-btn"
          onclick="handleClick()"
          class="scale-150 hover:scale-[135%] animate active:scale-100 z-[30]"
        >
          <img src="./img/start-btn.png" alt="start-button" />
        </button>
      </div>
    </aside>
    <div
      id="box"
      class="absolute bottom-1/2 right-52 bg-white rounded-full transition-all ease-linear duration-[1000ms] transform z-[-1]"
    ></div>

    <script>
      const hideMap = (map) => {
        map.classList.replace("flex", "hidden")
      }

      const playVideo = (video) => {
        video.classList.replace("hidden", "flex")
        video.play()
        setTimeout(() => {
          video.pause()
        }, 5800)
      }

      const removeButtonContainer = (buttonContainer) => {
        setTimeout(() => {
          buttonContainer.classList.add("scale-75", "opacity-0")
        }, 500)

        setTimeout(() => {
          buttonContainer.remove()
        }, 800)
      }

      const expandCircle = (box) => {
        setTimeout(() => {
          box.classList.add("scale-[15000%]", "size-8")
        }, 6400)
      }

      const redirect = () => {
        setTimeout(() => {
          window.location.href = "speedtest.html"
        }, 7500)
      }

      const handleClick = () => {
        const buttonContainer = document.getElementById("button-container")
        const box = document.getElementById("box")
        const map = document.getElementById("quirino-map")
        const video = document.getElementById("map-video")
        video.defaultPlaybackRate = 1
        video.load()

        hideMap(map)
        playVideo(video)
        removeButtonContainer(buttonContainer)
        expandCircle(box)
        redirect()
      }
    </script>
  </body>
</html>
